<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <div class="result"></div> 
        <div class="score"></div>
        <div class="final_result"></div>
        

    </div>

    <script>
        function getComputerChoice(){
            let x = Math.floor(Math.random()*3);
        
            
            if (x === 0){
                return 'rock'
            }
            else if (x === 1){
                return 'paper'
            }
            else if (x === 2){
                return 'scissors'
            }
            
            
        }


    function checkWinner(playerSelection, computerSelection){
        if (playerSelection === computerSelection){
        return 'tie'
       }
       else if (playerSelection === 'rock' && computerSelection === 'scissors'||
                playerSelection === 'scissors' && computerSelection === 'paper')
       {
        return 'player'
       }
       else {
        return 'computer'
       }
       
    }

    const finalResult = document.querySelector('.final_result')
    let computerScore = 0;
    let playerScore = 0;
    function reset(){
        score.innerText = '';
        computerScore = 0;
        playerScore = 0;
        score = 0
        divResult = ''
    }
    function playRound(playerSelection, computerSelection){
        
        let result = checkWinner(playerSelection, computerSelection);
        divResult = document.querySelector('.result')
        if (result === 'player'){
            divResult.innerText = `You win! ${playerSelection} beats ${computerSelection}`;
            playerScore++;

        }
        else if (result === 'tie'){
            divResult.innerText = 'It\'s a tie'
        }
        else {
            divResult.innerText = `You lose! ${computerSelection} beats ${playerSelection}`;
            computerScore++;

        }

        if (computerScore === 5){
            finalResult.innerText = 'You have lost'
        }
        else if (playerScore === 5){
            finalResult.innerText = 'You have won'
        }

        if (computerScore === 5 || playerScore === 5){
            return;
        }

        const score = document.querySelector('.score');
        score.innerText = `Computer: ${computerScore} Player: ${playerScore}`;
        container.appendChild(score);
        
    }
    


        const rockBtn = document.createElement('button');
        const paperBtn = document.createElement('button');
        const scissorsBtn = document.createElement('button');
        rockBtn.innerText = 'Rock';
        paperBtn.innerText = 'Paper';
        scissorsBtn.innerText = 'Scissors';
        const container = document.querySelector('.container')
        container.appendChild(rockBtn);
        container.appendChild(paperBtn);
        container.appendChild(scissorsBtn);
        
        
        
      
        

         rockBtn.addEventListener('click', () => {
            computerSelection = getComputerChoice()
            playerSelection = 'rock'
            playRound(playerSelection, computerSelection)
        })
        
        paperBtn.addEventListener('click', () => {
            computerSelection = getComputerChoice();
            playerSelection = 'paper';
            playRound(playerSelection, computerSelection)
        })

        scissorsBtn.addEventListener('click', () => {
            computerSelection = getComputerChoice();
            playerSelection = 'scissors';
            playRound(playerSelection, computerSelection)
        })
        

 


    

    
    </script>
    
</body>
</html>