<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function getComputerChoice(){
            let x = Math.floor(Math.random()*3);
        
            
            if (x === 0){
                return 'rock'
            }
            else if (x === 1){
                return 'paper'
            }
            else if (x === 2){
                return 'scissors'
            }
            
            
        }

    function checkWinner(playerSelection, computerSelection){
       if (playerSelection === computerSelection){
        return 'tie'
       }
       else if (playerSelection === 'rock' && computerSelection === 'scissors'||
                playerSelection === 'scissors' && computerSelection === 'paper')
       {
        return 'player'
       }
       else {
        return 'computer'
       }
       
    }

    function playRound(playerSelection, computerSelection){
        let result = checkWinner(playerSelection, computerSelection);
        if (result === 'player'){
            return `You win! ${playerSelection} beats ${computerSelection}`

        }
        else if (result === 'tie'){
            return 'It\'s a tie'
        }
        else {
            return `You lose! ${computerSelection} beats ${playerSelection}`
        }
    }
    

    function getPlayerChoice(){
        let choice = prompt('Rock, paper or scissors?');
        choice = choice.toLowerCase();
        return choice;
    }

    function game(){
    let computerScore = 0;
    let playerScore = 0;    
        for (i = 0; i < 5; i++){
            let playerSelection = getPlayerChoice();
            let computerSelection = getComputerChoice();
            console.log(playRound(playerSelection, computerSelection));
            console.log('----------')
            if (checkWinner(playerSelection, computerSelection) === 'player'){
                playerScore++
            }
            else {
                computerScore++
            }
        }
        if (computerScore > playerScore){
            console.log(`You lose! ${computerScore} : ${playerScore} to the Computer.`)
        }
        else {
            console.log(`You win! ${playerScore} : ${computerScore} to you.`)
        }
    }

    console.log(game())
    </script>
    
</body>
</html>